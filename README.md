# Smart VELP (Video English Learning Platform)

Smart VELP 是一个基于 AI 的 YouTube 视频学习平台，旨在通过自动化的视频解析、字幕提取和 AI 翻译，为用户提供沉浸式的双语学习体验。

---

## 🚀 项目进度 (PRD 执行情况)

| 需求模块 | 功能描述 | 状态 | 更新日期 |
| :--- | :--- | :--- | :--- |
| **核心解析** | 基于 yt-dlp 的 YouTube 视频/字幕下载 | ✅ 已完成 | 2026-01-28 |
| **AI 翻译** | 集成豆包 (Doubao) 大模型，支持 JSON 格式化输出 | ✅ 已完成 | 2026-01-29 |
| **任务管理** | 并行任务处理、基于 URL 的成功任务去重、任务元数据磁盘持久化 | ✅ 已完成 | 2026-01-29 |
| **前端界面** | 莫兰迪色系、左侧任务列表显示视频标题、鼠标悬停详情、右侧播放器联动 | ✅ 已完成 | 2026-01-29 |
| **CI/CD** | GitHub Actions + Docker + GHCR 自动化部署 | ✅ 已完成 | 2026-01-29 |
| **持久化** | 任务状态内存存储与文件系统持久化 | 🟡 优化中 | 2026-01-29 |

---

## 🛠 使用方法介绍

### 1. 环境准备
*   **后端**: JDK 21, Maven, Python 3, yt-dlp。
*   **前端**: Node.js 20+ (Vite)。
*   **API Key**: 需要 [火山引擎 Ark 平台](https://www.volcengine.com/product/ark) 的 API Key 和推理接入点 ID。

### 2. 本地启动

#### 后端 (Spring Boot)
1. 进入 `backend` 目录。
2. 在 `application.properties` 中配置您的 `DOUBAO_API_KEY` 和 `DOUBAO_MODEL` (接入点 ID)。
3. 运行：`mvn spring-boot:run`。
4. 后端默认运行在 `http://localhost:9090`。

#### 前端 (Vite)
1. 进入 `frontend` 目录。
2. 安装依赖：`npm install`。
3. 启动：`npm run dev`。
4. 访问：`http://localhost:5173`。

### 3. 操作流程
1. **提交任务**: 在页面顶部的输入框粘贴 YouTube 视频链接，点击“开始解析”。
2. **监控进度**: 页面会自动切换到进度监控视图，左侧任务列表会同步出现“处理中”的任务。
3. **开始学习**: 
   - 任务完成后，左侧列表指示灯变绿。
   - 点击已完成的任务，右侧将加载视频播放器。
   - 点击右侧字幕行，视频将自动跳转到对应时间点。
   - 使用右上角切换“双语”、“纯英”、“纯中”模式。

---

## 📝 更新日志

### [2026-01-29]
- **优化**: 改进豆包 API 调用，强制要求返回 JSON 数组格式，极大提升了翻译解析的稳定性。
- **功能**: 实现左侧任务列表，支持多任务并行展示与点选切换。
- **UI**: 全面应用“莫兰迪”色系，重构 SPA 风格布局。
- **逻辑**: 增加任务去重逻辑，相同链接解析成功后不再重复执行。

### [2026-01-28]
- **功能**: 初始化 CI/CD 流程，编写 Dockerfile 和 GitHub Actions 工作流。
- **功能**: 实现基础的视频解析与双语字幕合并逻辑。

---

## 📦 部署架构
项目支持 Docker 一键部署：
```bash
docker compose up -d
```
详情请参考 `DEPLOY_NOTES.md`。
